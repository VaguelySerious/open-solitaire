var SOL={game:{maxGameStates:1,progressiveUndo:1,maxCycleTimes:2,cycleTimes:0,minTime:30,cards:52,colors:["hearts","diamonds","clubs","spades"],stacks:[[],[],[],[],[],[],[],[],[],[],[],[],[]],distribution:"24d//////1u/1d1u/2d1u/3d1u/4d1u/5d1u/6d1u",history:[],activeCard:null,possibleMove:!0,autoCompletable:!1},scoring:{pileToTableau:5,tableauToFoundation:10,undo:-10,foundationToTableau:-15,uncoverFaceDown:5,afterTenSeconds:-2,timeBonus:7e5},clickCard:function(a){if(SOL.save(),0===a.stack)SOL.game.stacks[0].length<3?SOL.move(0,1,SOL.game.stacks[0].length,!0,!0):SOL.move(0,1,3,!0,!0),SOL.deselectLast();else if(a.card.facedown)SOL.stats.updateScore(SOL.scoring.uncoverFaceDown),a.card.facedown=!1,document.getElementById(a.card.id).classList.remove("facedown"),SOL.deselectLast();else if(null===SOL.game.activeCard)SOL.game.activeCard=a,SOL.highlight(a);else if(SOL.game.activeCard.card===a.card){if(0===SOL.game.activeCard.card.value){for(var e=2;e<6;e++)if(0===SOL.game.stacks[e].length){SOL.move(SOL.game.activeCard.stack,e,1);break}}else for(e=2;e<6;e++)if(0!==SOL.game.stacks[e].length){var c=SOL.game.stacks[e][SOL.game.stacks[e].length-1];if(SOL.game.activeCard.card.value===c.value+1&&SOL.game.activeCard.card.color===c.color){SOL.move(SOL.game.activeCard.stack,e,1);break}}SOL.deselectLast()}else SOL.highlight(a),SOL.game.activeCard.card.value===a.card.value-1&&SOL.differentColor(SOL.game.activeCard.card.color,a.card.color)&&5<a.stack?SOL.move(SOL.game.activeCard.stack,a.stack,SOL.game.stacks[SOL.game.activeCard.stack].length-SOL.game.activeCard.pos):SOL.game.activeCard.card.value===a.card.value+1&&SOL.game.activeCard.card.color===a.card.color&&1<a.stack&&a.stack<6&&SOL.move(SOL.game.activeCard.stack,a.stack,1),setTimeout(function(){SOL.deselectLast(),SOL.dehighlight(a)},300);SOL.check()},clickStack:function(a){SOL.save(),0===a?0<SOL.game.cycleTimes&&(SOL.move(1,0,SOL.game.stacks[1].length,!0,!0),SOL.game.cycleTimes-=1,SOL.game.cycleTimes<=0&&SOL.DOM.stacks[0].classList.add("error")):SOL.game.activeCard&&0===SOL.game.activeCard.card.value&&1<a&&a<6?SOL.move(SOL.game.activeCard.stack,a,1):SOL.game.activeCard&&12===SOL.game.activeCard.card.value&&5<a&&SOL.move(SOL.game.activeCard.stack,a,SOL.game.stacks[SOL.game.activeCard.stack].length-SOL.game.activeCard.pos),setTimeout(function(){SOL.deselectLast()},300)},check:function(){for(var a=!0,e=2;e<6;e++)if(SOL.game.stacks[e].length<13){a=!1;break}a&&SOL.win()},complete:function(){SOL.rebuild()},deselectLast:function(){null!==SOL.game.activeCard&&(SOL.dehighlight(SOL.game.activeCard),SOL.game.activeCard=null)}};